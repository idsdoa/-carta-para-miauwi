<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Tienes un Mensaje Secreto! üíñ</title>

    <style>
        /* Estilos Base del Cuerpo y Tipograf√≠a */
        body {
            font-family: 'Georgia', serif;
            background-color: #fce4ec; /* Fondo muy suave: Rosa claro */
            color: #333;
            text-align: center;
            padding: 20px;
            margin: 0;
            /* MUY IMPORTANTE: Asegura que el cuerpo no oculte las flores */
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 2s ease;
        }

        /* Contenedor General para Centrar la Interacci√≥n */
        .sobre-container {
            max-width: 750px;
            margin: 30px auto; 
            position: relative;
            /* Z-index bajo para que las flores pasen por encima de √©l */
            z-index: 10; 
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Estilo para la CARTA ABIERTA (El contenido completo) */
        #carta-abierta {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.7);
            border: 8px double #ff69b4;
            display: none; /* INICIALMENTE OCULTO */
        }

        /* Estilo para el SOBRE CERRADO (Rectangular y elegante) */
        #sobre-cerrado {
            background-color: #f7f7f7;
            padding: 50px 80px;
            border-radius: 10px;
            width: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 100px auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 3px solid #dda0dd;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        #sobre-cerrado:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        /* √çcono de "sobre" hecho con emoji y animaci√≥n */
        #sobre-cerrado::before {
            content: '‚úâÔ∏è';
            font-size: 80px;
            line-height: 1;
            margin-bottom: 15px;
            color: #ff69b4;
            animation: pulse 2s infinite;
        }
        
        /* Estilo para el texto dentro del sobre */
        #sobre-cerrado h2 {
            font-size: 2em;
            color: #8a2be2;
            margin-bottom: 5px;
        }
        #sobre-cerrado p {
            font-size: 1.1em;
            font-style: italic;
            color: #ff1493;
            margin-top: 0;
        }

        /* Estilos de la Carta Abierta (Mensaje detallado) */
        h1 {
            color: #8a2be2;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px #ffc0cb;
        }
        .subtitulo {
            color: #ff1493;
            font-style: italic;
            margin-bottom: 15px; 
        }
        .mensaje {
            text-align: justify;
            font-size: 1.2em;
            line-height: 1.6;
            border-left: 6px solid #ff69b4;
            padding-left: 20px;
            margin: 20px 0; 
            white-space: pre-wrap; 
        }
        .firma {
            margin-top: 30px; 
            font-style: italic;
            font-weight: bold;
            color: #ff69b4;
            font-size: 1.5em;
        }
        
        /* Estilo para la imagen */
        #foto-miauwita {
            display: block;
            max-width: 90%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            margin: 30px auto 10px auto; 
            border: 5px solid #ffc0cb;
        }

        /* Animaciones */
        .flor {
            position: fixed;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            /* ¬°CLAVE! Z-INDEX M√ÅS ALTO PARA QUE EST√âN POR ENCIMA DE TODO */
            z-index: 9999; 
            animation: caer 8s linear infinite;
        }
        @keyframes caer {
            0% { transform: translate(0, -100px) rotate(0deg); opacity: 0; }
            20% { opacity: 1; } /* Aumento de la opacidad para que sean m√°s notorias */
            100% { transform: translate(0, 100vh) rotate(720deg); opacity: 0; }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

    <div class="sobre-container">
        
        <div id="sobre-cerrado">
            <h2>¬°Tienes un Mensaje de Amor! üíå</h2>
            <p>Haz clic para abrir esta carta especial...</p>
        </div>

        <div id="carta-abierta">
            <h1>¬°Hola, Mi Miauwi Preciosa!</h1>
            <p class="subtitulo">¬°La magia ha comenzado! Ahora disfruta del mensaje.</p>
            
            <p class="mensaje">
querida miauwi gracias por ser parte de mi vida, desde que tu estas aqui todo me a ido mejor se que aveces en nuestra relacion hay altos y bajos pero yo se que nuestro amor puede con todo igual yo se que no soy el mejor novio del mundo y tu te mereces lo mejor del mundo mundial ya que gracias a ti eh echo cosas que se que mi yo del pasado no haria, hace mucho tiempo te queria contar que quiero irte a visitar un dia de estos, por eso estoy haciendo todo lo de mis ahorros guardarlos full, en esta carta quiero decirte que yo estoy contigo en las buenas y en las malas por que cuando yo te veo triste trato de que no lo estes, invitandote hacer alguna cosa juntos , igual por que extra√±o ver una peli o jugar un videojuego juntos gracias por ser tu, una persona de lindo corazon y tan real, gracias a dios igual por haber juntado nuestro camino en ese momento que estabamos jugando y se que el destino nos guarda cosas buenas para el futuro te amo mi amor, y esta cancion y esta bella carta es para ti.
            </p>

            <img id="foto-miauwita" src="miauwita.jpeg" alt="Nuestra foto favorita">

            <p class="firma">
                Tu Novio
            </p>
        </div>

    </div>
    
    <audio id="musica" src="monet.mp3" preload="auto" loop></audio>


    <script>
        // Array de colores para las flores: rosa, violeta y melocot√≥n
        const coloresFlores = ['#ffc0cb', '#da70d6', '#ffb6c1', '#dda0dd'];

        // 1. Obtener elementos de la p√°gina
        const sobreCerrado = document.getElementById('sobre-cerrado');
        const cartaAbierta = document.getElementById('carta-abierta');
        const musica = document.getElementById('musica');

        // FUNCI√ìN 1: Activar M√∫sica y Flores
        function activarMagia() {
            // A. Reproducir la canci√≥n
            musica.play().catch(error => {
                console.log("No se pudo iniciar la m√∫sica autom√°ticamente. Toca la pantalla.");
            });

            // B. Iniciar la lluvia de flores
            // NOTA: Si siguen sin verse, podemos aumentar la frecuencia aqu√≠ (ej. 50ms)
            setInterval(crearFlor, 100); 

            // C. Efecto de cambio de fondo
            document.body.style.backgroundColor = '#ffdbf0'; 
        }

        // FUNCI√ìN 2: Abrir el Sobre y Mostrar la Carta (y activar la magia)
        function abrirCartaYActivarMagia() {
            // Oculta el sobre cerrado
            sobreCerrado.style.display = 'none';
            // Muestra la carta abierta
            cartaAbierta.style.display = 'block';
            
            // Llama a la funci√≥n que inicia la m√∫sica y las flores
            activarMagia();
        }

        // FUNCI√ìN 3: Crear y Animaci√≥n de una flor
        function crearFlor() {
            const flor = document.createElement('div');
            flor.classList.add('flor');
            
            const colorAleatorio = coloresFlores[Math.floor(Math.random() * coloresFlores.length)];
            flor.style.backgroundColor = colorAleatorio;

            flor.style.left = Math.random() * 100 + 'vw'; 
            const tamano = Math.random() * 15 + 15;
            flor.style.width = tamano + 'px';
            flor.style.height = tamano + 'px';
            
            flor.style.animationDelay = -Math.random() * 5 + 's';

            document.body.appendChild(flor);
            
            setTimeout(() => {
                flor.remove();
            }, 8000); 
        }

        // 4. Conectar la funci√≥n principal al elemento: Al hacer clic en el SOBRE CERRADO, se activa TODO.
        sobreCerrado.addEventListener('click', abrirCartaYActivarMagia);
    </script>
</body>
</html>